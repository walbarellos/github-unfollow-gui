<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title>GitHub Unfollow Manager — GUI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/style.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-dark px-3">
  <span class="navbar-brand">GitHub Unfollow Manager</span>
  <span id="counts"></span>
  <span class="ms-3">Dry-run: <strong id="dryrun"></strong></span>
</nav>

<div class="container my-4">
  <div class="row g-3">
    <div class="col-12">
      <div class="card p-3">
        <div class="d-flex flex-wrap gap-2 mb-3">
          <div class="btn-group" role="group">
            <button id="btn-following_only" class="btn btn-outline-light tabbtn active">Quem NÃO retribui</button>
            <button id="btn-mutuals" class="btn btn-outline-light tabbtn">Mútuos</button>
            <button id="btn-nfby" class="btn btn-outline-light tabbtn">Eles te seguem e você não</button>
          </div>

          <input id="filterSearch" class="form-control" style="max-width:260px" placeholder="Buscar login/nome/bio/empresa">
          <input id="filterLocation" class="form-control" style="max-width:180px" placeholder="Localização contém">
          <input id="filterMinFollowers" type="number" class="form-control" style="max-width:160px" placeholder="Min followers">

          <select id="filterType" class="form-select" style="max-width:160px">
            <option value="ANY">User/Org (qualquer)</option>
            <option value="User">Somente User</option>
            <option value="Organization">Somente Organization</option>
          </select>

          <select id="sortBy" class="form-select" style="max-width:160px">
            <option value="login">Login</option>
            <option value="name">Nome</option>
            <option value="followers">Followers</option>
            <option value="following">Following</option>
            <option value="repos">Repos</option>
            <option value="created">Criado</option>
            <option value="updated">Atualizado</option>
          </select>
          <select id="sortDir" class="form-select" style="max-width:140px">
            <option value="asc">Asc</option>
            <option value="desc" selected>Desc</option>
          </select>

          <div class="ms-auto">
            <button id="btn-select-all" class="btn btn-outline-light me-2">Selecionar todos</button>
            <button id="btn-clear-all" class="btn btn-outline-light me-2">Limpar seleção</button>
            <button id="btn-unfollow" class="btn btn-danger">Unfollow Selecionados</button>
          </div>
        </div>

        <div class="table-responsive">
          <table class="table align-middle table-hover">
            <thead>
              <tr>
                <th style="width:48px"></th>
                <th>Usuário</th>
                <th>Bio</th>
                <th>Métrica</th>
                <th>Local</th>
                <th>Meta</th>
              </tr>
            </thead>
            <tbody id="tbody"></tbody>
          </table>
        </div>

        <div class="mt-3">
          <h6>Resultado da última operação</h6>
          <pre id="results" class="p-3 bg-dark rounded" style="min-height:120px; white-space:pre-wrap;"></pre>
        </div>

        <div class="mt-2">
          <small class="text-secondary">
            Dica: use <kbd>/</kbd> para focar a busca, <kbd>Esc</kbd> limpa; ajuste <em>Dry-run</em> em <code>.env</code>.
          </small>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="/static/app.js"></script>
</body>
</html>
